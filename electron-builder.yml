appId: "store.spark-app.apm"
asar: true
productName: "apm-store"
artifactName: "apm-store_${version}_${os}_${arch}.${ext}"
directories:
  output: "release/${version}"
files:
  - "dist"
  - "dist-electron"
extraFiles:
  - from: "extras"
    to: "extras"
extraResources:
  - from: "icons"
    to: "icons"

linux:
  icon: "icons/amber-pm-logo.icns"
  category: "System"
  executableName: "apm-store"
  desktop:
    entry:
      Name: "APM AppStore"
      Name[zh_CN]: "APM 应用商店"
      Type: "Application"
      Categories: "System;"
  mimeTypes:
    - "x-scheme-handler/apmstore"
  target:
    - "AppImage"
    - "deb"
    - "rpm"
deb:
  afterInstall: "scripts/postinst.sh"
  afterRemove: "scripts/postrm.sh"
  depends:
    - "libgtk-3-0"
    - "libnotify4"
    - "libnss3"
    - "libxss1"
    - "libxtst6"
    - "xdg-utils"
    - "libatspi2.0-0"
    - "libuuid1"
    - "libsecret-1-0"
    - "apm"
    - "xdg-utils"
    - "shared-mime-info"
rpm:
  afterInstall: "scripts/postinst.sh"
  afterRemove: "scripts/postrm.sh"
  depends:
    - "gtk3"
    - "libnotify"
    - "nss"
    - "libXScrnSaver"
    - "libXtst"
    - "xdg-utils"
    - "at-spi2-core"
    - "libuuid"
    - "libsecret"
    - "amber-package-manager"
    - "xdg-utils"
    - "shared-mime-info"